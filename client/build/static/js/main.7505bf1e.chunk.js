(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),i=t.n(o),l=(t(82),t(28)),c=t.n(l),s=(t(100),t(69)),m=t(145),u=t(146),d=t(2),p=t(36),h=t(24),g=t(41),f=t.n(g),b=t(61),v=t(136),w=t(139),E=t(141),x=t(142),j=t(110),O=t(143),k=t(64),y=t.n(k),S=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{display:function(e){return e?"block":"none"},marginRight:e.spacing(2)},title:{flexGrow:1},button:{textDecoration:"none",textTransform:"capitalize",fontSize:"1rem"}}})),I=function(){var e=Object(h.h)(),a=Object(h.g)(),t="/login"!==e.pathname,n=S(t),o=function(){var e=Object(b.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,n=localStorage.getItem("token"),e.next=5,c()({method:"POST",url:"/auth/token/logout",headers:{Authorization:"Token ".concat(n)}});case 5:localStorage.removeItem("token"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:a.push("/login");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:n.root},r.a.createElement(w.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(x.a,{edge:"start",className:n.menuButton,color:"inherit"},r.a.createElement(y.a,null)),r.a.createElement(j.a,{variant:"h6",className:n.title},"Inventory Management Web App"),r.a.createElement(O.a,{color:"inherit",className:n.button,onClick:o},t?"Logout":"Login"))))},N=t(7),C=t(109),P=t(148),T=t(147),W=t(144),A=t(67),L=t.n(A),B=t(68),D=t.n(B),R=t(44),z=t.n(R),F=t(45),M=t(25),Z=function(e){var a=Object(n.useState)({email:"",password:""}),t=Object(M.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(!1),l=Object(M.a)(i,2),s=l[0],m=l[1],u=Object(n.useState)({errors:!1,email:" ",password:" "}),d=Object(M.a)(u,2),p=d[0],g=d[1],f=Object(n.useState)(!1),b=Object(M.a)(f,2),v=b[0],w=b[1],E=Object(n.useState)(!1),x=Object(M.a)(E,2),j=x[0],O=x[1],k=Object(h.g)();Object(n.useEffect)((function(){if(!p.errors&&j){var e=new FormData;e.append("email",r.email),e.append("password",r.password),c()({method:"POST",url:"/auth/token/login",data:e}).then((function(e){var a=e.data;localStorage.setItem("token",a.auth_token),k.push("/")})).catch((function(e){console.log(e),w(!0)})),O(!1),o((function(e){return Object(F.a)({},e,{email:"",password:""})}))}}),[p,j]);return{handleChange:function(e){e.persist(),o((function(a){return Object(F.a)({},a,Object(N.a)({},e.target.name,e.target.value))}))},handleSubmit:function(a){a&&a.preventDefault(),g(e(r)),O(!0)},error:p,isInvalidCred:v,setIsInvalidCred:w,values:r,showPassword:s,setError:g,toggleShowPassword:function(){m((function(e){return!e}))}}},q=Object(v.a)((function(e){var a;return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 6rem)"},formContainer:{flex:"1 1 30rem",height:"26rem",display:"flex",flexDirection:"column",alignItems:"center"},form:(a={width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:e.spacing(2),padding:e.spacing(0,5)},Object(N.a)(a,e.breakpoints.down("sm"),{padding:e.spacing(0,2)}),Object(N.a)(a,"& .MuiTextField-root",Object(N.a)({marginTop:e.spacing(1),width:"100%",maxWidth:"20rem"},e.breakpoints.down("xs"),{maxWidth:"15rem"})),a),paper:Object(N.a)({maxWidth:"70rem",height:"35rem",margin:e.spacing(2),padding:e.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px",boxShadow:"4px 4px 20px rgba(0,0,0,0.1)",overflow:"hidden"},e.breakpoints.down("xs"),{width:"30rem",height:"38rem",alignItems:"flex-start"}),img:Object(N.a)({flex:"1 1 35rem",maxWidth:"50%",marginRight:e.spacing(2)},e.breakpoints.down("xs"),{width:"15rem",marginBottom:e.spacing(2)}),heading:{fontWeight:"700",marginBottom:e.spacing(4)},button:Object(N.a)({width:"100%",maxWidth:"18rem",height:"3rem",borderRadius:"2rem",fontSize:"1.5rem",fontWeight:"700",marginTop:e.spacing(1.5),textTransform:"capitalize",boxShadow:"0 5px 65px rgba(0,0,0,0.1)"},e.breakpoints.down("xs"),{maxWidth:"12rem"}),invalid:{display:function(e){return e?"block":"none"}}}})),G=function(){var e=Z((function(e){var a=!1,t=" ",n=" ";return""===e.email?(a=!0,n="Please fill out this field"):/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(a=!0,n="Please enter a valid email"),""===e.password?(a=!0,t="Please fill out this field"):e.password.length<5&&(a=!0,t="Password should have more than 5 characters"),{errors:a,email:n,password:t}})),a=e.handleChange,t=e.handleSubmit,n=e.error,o=e.isInvalidCred,i=e.values,l=e.showPassword,c=e.toggleShowPassword,s=q(o);return r.a.createElement("div",{className:s.root},r.a.createElement(C.a,{className:s.paper},r.a.createElement(P.a,{xsDown:!0},r.a.createElement("img",{src:z.a,alt:"Login illustration",className:s.img})),r.a.createElement("div",{className:s.formContainer},r.a.createElement(j.a,{variant:"h3",className:s.heading},"Login"),r.a.createElement(P.a,{smUp:!0},r.a.createElement("img",{src:z.a,alt:"Login illustration",className:s.img})),r.a.createElement(j.a,{variant:"h6",color:"error",className:s.invalid},"Invalid email or password. Please try again"),r.a.createElement("form",{noValidate:!0,onSubmit:t,autoComplete:"off",className:s.form},r.a.createElement(T.a,{required:!0,variant:"filled",id:"email-input",name:"email",type:"email",label:"Email",value:i.email,onChange:a,error:!(" "===n.email),helperText:n.email}),r.a.createElement(T.a,{required:!0,variant:"filled",id:"password-input",name:"password",type:l?"text":"password",label:"Password",value:i.password,onChange:a,error:!(" "===n.password),helperText:n.password,InputProps:{endAdornment:r.a.createElement(W.a,{position:"end"},r.a.createElement(x.a,{onClick:c},l?r.a.createElement(L.a,null):r.a.createElement(D.a,null)))}}),r.a.createElement(O.a,{type:"submit",color:"primary",variant:"contained",className:s.button},"Login")))))},H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement("header",{className:"App-header"},"Inventory Management Home"))},J=function(e){var a=e.children,t=e.path,n=Object(d.a)(e,["children","path"]),o=!!localStorage.getItem("token");return"/"===t?r.a.createElement(h.b,Object.assign({path:t},n,{render:function(e){var t=e.location;return o?a:r.a.createElement(h.a,{to:{pathname:"/login",state:{from:t}}})}})):"/login"===t?r.a.createElement(h.b,Object.assign({path:t},n,{render:function(e){var t=e.location;return o?r.a.createElement(h.a,{to:{pathname:"/",state:{from:t}}}):a}})):void 0},U=function(){return r.a.createElement(p.a,null,r.a.createElement(h.d,null,r.a.createElement(J,{exact:!0,path:"/login"},r.a.createElement(I,null),r.a.createElement(G,null)),r.a.createElement(J,{path:"/"},r.a.createElement(H,null))))},$=Object(s.a)({palette:{primary:{main:"#4796bd"},background:{default:"#f3f9fb"}},typography:{fontFamily:["Lato","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")},spacing:function(e){return"".concat(.5*e,"rem")}});var _=function(){return r.a.createElement(m.a,{theme:$},r.a.createElement(u.a,null),r.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.defaults.baseURL="https://chouhanaryan.pythonanywhere.com/",i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,a,t){e.exports=t.p+"static/media/Login.b498e69b.svg"},77:function(e,a,t){e.exports=t(108)},82:function(e,a,t){}},[[77,1,2]]]);
//# sourceMappingURL=main.7505bf1e.chunk.js.map